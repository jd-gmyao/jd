/*
[task_local]
京东自营j
0 0 1,7,15,21 * * ?  jd_zzljd.js, tag=京东自营j, enabled=true
================Loon==============
[Script]
cron "0 0 1,7,15,21 * * ? " script-path=jd_zzljd.js,tag=京东自营j
*/
const $ = new Env("可能是没奖励");
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const notify = $.isNode() ? require('./sendNotify') : '';
var _0xodo='jsjiami.com.v6',_0xodo_=['‮_0xodo'],_0x315d=[_0xodo,'w5rDk8KLHws=','wpluw5Iqw7fDpsKoOirDu23Cn2YGbjhhVcOdw7Yzw5LDpmLDsMOXwqNoCcOefcOwwo5jwrlOw7k8wokpw5jCvMKEAm3Ck8KnBMO0NMOUw6tDwofCscOTwoVWAsKTw4/DrMO1Eg==','w5fDv3Mjwodewpk=','wp1Xw5BTwqfDtiIfCQ==','QMKKBjg=','w4PDpcOnw7XDq13CvHPCusOqwoJMw7TDg0Mrw7fCp8KvQ8Kgw7djw7gYw5ErwocSfkJ6wpDCq8KcEMO+cMKCXG3CoMOzw60JHcKRB8KbTsOHKMOXw7FLwpnCusK4w6dRwq/DgwjDr8OpwpHDpSUvwoUmWsOAPyfDoMOzDMK8AMKBf8OOCMKuw4jDlMKoST0vRsKfw6fCt8OVwpxtW8K1w74DektUd8KQNMK6w7jCjXLCh8KZw5kGfA/DocK0CUIxw5fDoVJHChvDvsOqw5FPwoQ=','w4QEw4XCjH7CvsKRw4kzw5lwwqDChcKEw6lowpgALADCt8KZbcK6EhzDqg/Cplcsw4LDq8KnbnNow5DDqFEKw7d2w61Bw7LDkgwfHDrDpUk5w7DCqcOkw5/DnsOOwqtAwopG','T112dBA=','w6HDl0U4woE=','w4MiwrjDqMKbwrjDug==','bnXCuMOZTA==','Gloew6Zg','S1LCp8OCYg==','wqDDt1DDoS3Do8Op','wooNLxU=','w63CgRY=','KMKdY148FgDChQ==','woDCusKv','bcKTwrHDl1fCgMKhw4s=','VsKZBMORw5I=','Jlg6','JcOqwoEycyfChQ==','wrkvasOQXwbCv2s=','QcOBwrLCqcOFwrZS','EAlJGsKJw7h3SG4=','WMK1VTsYH14=','w7VXwocew6XClMKVZMKu','RDHCqw==','w6LCsBDCkyN5','w6QlwrDDrsKRwqM=','6K215Yqz6ZmT5oaV5Z+cwpPDscONwpQN6LyF5YSR5qCN5L2m5pa75YWU5a+Kw5XluKHorpHpgLfovZvohqDmnbLlj4bojJzljbTCsFcpwqzCuAg=','S8KgwpfDvFE=','I8OMwrojfQ==','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','w7oKYQ==','IjHDnGxVIGU4ekp8CUbDrMK9WsKPNSEaw5R0bMK+BsOWw79Owqkzw5ExwpsKw4rCj8OPIBnDucOJwrXDjw==','w55MwpwFw7/Di8OJAcKIw4HCukPCtmF0wqg+IMKuwpzCscOZw5jCqEzDpsKgw5vDmgY7bMOTCsKQEsKnMTAhAyPCnQ==','wrfCuzzCohvCgQ==','woHCkcKRbG4=','PRdnJsKL','wrMww4/CkVfCs8KZwow=','SsK2wprDsHo=','wqgMwqAveg==','Q15iZRE=','w59LwqQaw6vCmMKI','cmzClcOLZwzDqMOE','w4ITew==','w59WwowQw7Q=','w6TCrQp2w7pbCi7DvsOX','w67CpcOwwo7Chg==','S8KIw5PDnw==','44C35oyH56eU44KCccKtwpvDp8O0fOW0ueWlvOaUjg==','5Lms5LiQ6LW85Yys','SsKLEC4K','w7jDuHQ6wqZWwpDDlQ==','dsKWETk8w4jDqQA=','w4ror7vphpfmlavnmavlvZ7oj6PljIPCmcO3w6dgEzA9AsO0VMKRw483UMKGYMKgw6HDvW/CjcO7TRJRw43Ci8OXwrLCvsOcwo5owrvCvcOyLETDiWHCssO7w7jCkg==','IFsKw5R4','wqwewpojdsK6','wokdMhnCksOBwp9VwrN6','wo7DhUzCqg==','5Liu5LmQ6Le65Y2t','VGV5DMOH','wpAewrE+XMK+wqLDhg==','wojor5LphZrml4Lnm4jlvIToj4vljoRQwpxyw7nCszo=','csK3ZzIJ','OTHDmnVIfQ==','w5fDlsKD','wrbCrTU=','Oh9KG8Km','wovDhE0Swr8=','w5vCssO2wpHChg==','w5nDuMKgOgA=','S8K9NxED','EQExJ8Od','w4XCrcOQwrDCuA==','woN4MMK+dA==','WEDCpsO5bQ==','RMOlwoLCmsOJ','wokDwpojSw==','w5zDjMOow5DDgA==','w6pRw6MCw4BrU31SwoN0wrzCt3FIPlrCniXClcOmYsO0U8KiwpnDqmTDnUHCj8KHCBXCgCZ8csO+Z8K5fWspB8KNGWHChFrChsK2BgPCqV5mwqRVw6VhwqokaxTCiiDDlkoqDcKeVnN0w5IEwq3CssOjJETCjMKdFcOXw4TCqsKgKTTDghJuMnRsw459wprCksKUw4IXP1HDqDPDskYbMsKyw4l7w7EQQ3XCicOZaEBEw5nDisK2AybDtiJXJ8OGGcODw4EowqXCoMOgwqLDpAbCtB07w4/DkCYdwqfDmyNhwobDs8OpOMK3wr8zEcOCwoIjw7zDogcYKRXDuh9Qw5Z7JlF0w7/CpcOgHsO9w7wUcDHDpMOaw7l9w4TDp8OmbMONwoXDrB4Ww6vDvCI9w5DDtsKVw7HDgsKxwpLCtcKCw5ZmUMKOH8OSw7VFwqDDjcKldcOZwovDp0LDn8OKcMO7w5HDhTMVwr7ClBwIw7EoR2XCgMOZwpvCnHYWw6NZdWXDoMKiw4HDkRt5BWbCplPCv8O9wpfCicOEGm3DiydQw7PCuMOMHkRfBMKUfHjCoMOENMKBDMOnNxsCaMOQd13CisOcNBbCvsKZZmLCvGtFw7TCl8K3GMKwQcOvwox0wqDCh0TDusOrwq8qaMKKBCYlwo9ew4TCtAsvEifDkcO4wrEVw6pedsKlw5gaUMKwa8KQw7/CoTkaOcOvRkPCkU4qXT0ywpLChcKTIz4ReD4tOsOlJ8KSwr/DuFXCoUzCvcKcwq/CkW7ClMKdGMKHw6HDq2l5fMKMJ8KrwprCsll7w4ZkKcKwwqTCssKSw7kAHMKFwp1ze8OUWkTCs8K1w73CgHJtwrbDkMO+X8OtChlWw6VCCMKEwo43w54UT0B9w5bDllAjw6cWw4xkwpIPdMOUZsOb','wojDkFXCvzDDtzDCrcKMQxUbwp3CgsO6wpZvXlgiQ8OB','S8KRADsBwpPCq0otwoAdwo1cO8KONCR8S8KBw4oQdMOMT8ODYcOVHgpcwrtfTyrCpCvDsS3CtSzCqHRAwqB5w7HCvcKvcMOQcStDwoDDncKSD1IowoDCr8OxKsOkw5EoWk7DqcOow6/DmsKXw5weQsKwwr7DmFLCqCPChk3Cv0nDpMKpccKSw7PDr31bw7FsdhLDvCRmwrfDtcO2DEDDicKwcMK9w7XDpMOvEMKtwq8nw43CsRQCw4ZKJgrCusKWwqDCpAUONSQpwo8hA8KmwoPCuMOGYisqS8OQdcOQIhrClyfCpS5pwpA1w6pWEMOUwpLClcK1BzLCt3HCsBQECcKiw5/CpkbDt0bDu8KIw6PCjQ1dw5JRS8KOw5BGw47ClsONw6fCgMOKw43DusKvwpHCmsKLcXDCsVhtXAfCuMKELsKS','DDHDv2V3','w7XDrTXDgUY=','K8O6wq8yeA==','w5dGw5o=','UcKxTDo=','w40e5aaB6Lenwo7Dn+WOluWauMKVYA==','w5hIw4kmw7g=','WmfCs0A=','wqRjNMK+','Vl7DhAvDjg==','IzolN8O3','T0/CoMOyfQ==','wp4tLD7Cjg==','RT/CvA==','w6bCjg0L','w77DqFoSwqI=','w6HCuhE/Gg==','wo1Rw5fCh8Odwo0=','w6Z6wqQgw64=','dBfCqWkX','w6/Do1Yowq4=','wozDi0Y=','TMKkUzYXDFbDgsKw','W2vDuxo=','agTDuFXor5HmsZjlpbvotLLvvJTor5jmo53mnoLnvLnota7phZ7or6U=','WMK1VQ==','wp3CjjzCqAg=','VcKmFRkc','wpYiw5jCkHw=','w7vCmxIHFcKRKsODw5A=','w6/CvhLCnQ==','wqrDt0XDoT7Dsg==','f3vDhQfDrQ==','6K+Q5Yio6Zmh5oac5Zy6woDCm8O0w5dq6L2Y5YSo5qCA5L2e5pez5YSQ5a+sMeW5reisk+mDs+i/geiFieaemuWPieiMu+WNm8KXwqBKw7fCpgE=','wphCw7xnw4I=','w4luw68Aw4A=','wqwzw4/Cjks=','w4x+wps5w7w=','w7/CulTDsDg=','f8OjwrLCo8OS','QsKMw4o=','wonDkVUOwoY=','w7N4w4wow5Q=','SsOLwqHCiMOWwrA=','ScKGw5k=','wrfCsTU=','w6fCosOzwro=','wq4Sw5vCjl0=','JsO5woUUVg==','wqxjPcKeYnk=','w6TCsMO5','w4clLENKDFN8A8Ogw7Frw50sKWldViXChMOZesOcNcOwwolZJMOqwpfDk8OpZMORw7DDjMK3wqNjZ8KTw5xj','w67CiCjCtB4=','wo5pw6fCjsO7','w7rDvnA=','w4AdcSk=','wpPClgbCliI=','w43DvjLDkk4=','6K+R5Ymb6ZmJ5oeC5Z6MwoBcw609wpfov4nlhpPmoJnkvaDml5jlh5vlr6Y65bi06Kyj6YKx6L2p6IS05p+75Y+66I+m5YyZw6pow4HCmELDjg==','wqXDt2Mrwrw=','w7nCosOswqzChA==','w6zCrBg=','w5VIw5Ag','wqBiw7gdw5Q9GXJwwptvw73CtzoAYQLDgGjDgcO8IcKoGsK/wrzDt3jDkVjCj8KdC37Dn200PsKuPcO1Ai5qTsKgHjPDhWvDlsKdEF/Cshwnw7NKwr0tw6cgKA==','dGTDsg3DqwjCog==','w5/DlsKHGAAYw7fDgw==','VMK2woPDtj/CrcKGw6XDunDCpQ==','w5vCk2rDnjVzTi5ww4XDn8KmwrNyw65aOMKBQ0RKRsK3csKqJcOYw53CgMKFw5fCpsKaw6cqw47DuMOVOVvDrHUtw43ChnDCtxZ1SMKlY8KTJF/Cqgkawr43w5AadsO1MBtOwqAuw5UIK8OKAMO7LFBjwqJ/MsOnLCZcDxrDlMOhw4vCuMKlw7zCs3sHwpIGTMKsecKMMcOFEHvDiMO1EAHDtsK5d8Oewo3Di8Kpw77DvQdKw7XCtcKwwpDDvsKGw7nCksKqwq8nZGE=','c0ZEUDw=','wrECw4PCmls=','wqrDrVQ6wqk=','w58Ja1bCsw==','jGsjiaumi.cozPm.v6rMLgAyhktCt=='];if(function(_0x1fc889,_0x4e2a14,_0xfe715c){function _0x467262(_0xaabd74,_0x930127,_0x1c9f66,_0x513463,_0x11bfb3,_0x2befd8){_0x930127=_0x930127>>0x8,_0x11bfb3='po';var _0x5d2653='shift',_0x24ab3d='push',_0x2befd8='‮';if(_0x930127<_0xaabd74){while(--_0xaabd74){_0x513463=_0x1fc889[_0x5d2653]();if(_0x930127===_0xaabd74&&_0x2befd8==='‮'&&_0x2befd8['length']===0x1){_0x930127=_0x513463,_0x1c9f66=_0x1fc889[_0x11bfb3+'p']();}else if(_0x930127&&_0x1c9f66['replace'](/[GuzPrMLgAyhktCt=]/g,'')===_0x930127){_0x1fc889[_0x24ab3d](_0x513463);}}_0x1fc889[_0x24ab3d](_0x1fc889[_0x5d2653]());}return 0xc0ccd;};return _0x467262(++_0x4e2a14,_0xfe715c)>>_0x4e2a14^_0xfe715c;}(_0x315d,0x1f0,0x1f000),_0x315d){_0xodo_=_0x315d['length']^0x1f0;};function _0x562e(_0x5c0986,_0xf2ea1d){_0x5c0986=~~'0x'['concat'](_0x5c0986['slice'](0x1));var _0x4251e3=_0x315d[_0x5c0986];if(_0x562e['DMggJk']===undefined){(function(){var _0x3434f4=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x58d163='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x3434f4['atob']||(_0x3434f4['atob']=function(_0x4d98d6){var _0x45971d=String(_0x4d98d6)['replace'](/=+$/,'');for(var _0x15c3a9=0x0,_0x45f700,_0x1fde0e,_0x57488c=0x0,_0x19d723='';_0x1fde0e=_0x45971d['charAt'](_0x57488c++);~_0x1fde0e&&(_0x45f700=_0x15c3a9%0x4?_0x45f700*0x40+_0x1fde0e:_0x1fde0e,_0x15c3a9++%0x4)?_0x19d723+=String['fromCharCode'](0xff&_0x45f700>>(-0x2*_0x15c3a9&0x6)):0x0){_0x1fde0e=_0x58d163['indexOf'](_0x1fde0e);}return _0x19d723;});}());function _0x611dff(_0x1a65ef,_0xf2ea1d){var _0x4035c1=[],_0x343877=0x0,_0x4195a5,_0x4995c5='',_0x19cb40='';_0x1a65ef=atob(_0x1a65ef);for(var _0x924f1a=0x0,_0x6719c2=_0x1a65ef['length'];_0x924f1a<_0x6719c2;_0x924f1a++){_0x19cb40+='%'+('00'+_0x1a65ef['charCodeAt'](_0x924f1a)['toString'](0x10))['slice'](-0x2);}_0x1a65ef=decodeURIComponent(_0x19cb40);for(var _0x1c5e64=0x0;_0x1c5e64<0x100;_0x1c5e64++){_0x4035c1[_0x1c5e64]=_0x1c5e64;}for(_0x1c5e64=0x0;_0x1c5e64<0x100;_0x1c5e64++){_0x343877=(_0x343877+_0x4035c1[_0x1c5e64]+_0xf2ea1d['charCodeAt'](_0x1c5e64%_0xf2ea1d['length']))%0x100;_0x4195a5=_0x4035c1[_0x1c5e64];_0x4035c1[_0x1c5e64]=_0x4035c1[_0x343877];_0x4035c1[_0x343877]=_0x4195a5;}_0x1c5e64=0x0;_0x343877=0x0;for(var _0x1f2b51=0x0;_0x1f2b51<_0x1a65ef['length'];_0x1f2b51++){_0x1c5e64=(_0x1c5e64+0x1)%0x100;_0x343877=(_0x343877+_0x4035c1[_0x1c5e64])%0x100;_0x4195a5=_0x4035c1[_0x1c5e64];_0x4035c1[_0x1c5e64]=_0x4035c1[_0x343877];_0x4035c1[_0x343877]=_0x4195a5;_0x4995c5+=String['fromCharCode'](_0x1a65ef['charCodeAt'](_0x1f2b51)^_0x4035c1[(_0x4035c1[_0x1c5e64]+_0x4035c1[_0x343877])%0x100]);}return _0x4995c5;}_0x562e['LNVQxo']=_0x611dff;_0x562e['kLHvjv']={};_0x562e['DMggJk']=!![];}var _0x49ed0e=_0x562e['kLHvjv'][_0x5c0986];if(_0x49ed0e===undefined){if(_0x562e['zqpQmm']===undefined){_0x562e['zqpQmm']=!![];}_0x4251e3=_0x562e['LNVQxo'](_0x4251e3,_0xf2ea1d);_0x562e['kLHvjv'][_0x5c0986]=_0x4251e3;}else{_0x4251e3=_0x49ed0e;}return _0x4251e3;};let cookiesArr=[],cookie='',message;if($['isNode']()){Object['keys'](jdCookieNode)[_0x562e('‫0','[Zo!')](_0x5e9af0=>{cookiesArr[_0x562e('‫1','0AeB')](jdCookieNode[_0x5e9af0]);});if(process[_0x562e('‫2','X3J&')][_0x562e('‮3','CR#u')]&&process[_0x562e('‫4','Mn[Z')][_0x562e('‮5','J[fB')]===_0x562e('‫6','G7yZ'))console[_0x562e('‮7','[DG7')]=()=>{};}else{cookiesArr=[$[_0x562e('‫8','l!jo')](_0x562e('‮9','xMjC')),$[_0x562e('‮a','gzR4')](_0x562e('‮b','rfEF')),...jsonParse($[_0x562e('‫c','7PMP')](_0x562e('‫d','VlFs'))||'[]')[_0x562e('‮e','3aJ6')](_0x3bfb3b=>_0x3bfb3b[_0x562e('‮f','MxEU')])][_0x562e('‫10','y8!d')](_0x3cbcb4=>!!_0x3cbcb4);}!(async()=>{var _0x1b2576={'MgFmp':function(_0x40be41,_0x5eb74a){return _0x40be41==_0x5eb74a;},'XDNFJ':_0x562e('‮11','y8!d'),'iuZdj':function(_0x4373c6,_0x222d93){return _0x4373c6(_0x222d93);},'qRfYX':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','dEHTb':function(_0x4c182b,_0x1ee175){return _0x4c182b!==_0x1ee175;},'xWTjn':_0x562e('‮12','J[fB'),'wSWVq':'YRIPz','lsAZX':function(_0x27c649,_0x790666){return _0x27c649===_0x790666;},'nqAWk':_0x562e('‮13','l!jo'),'QCPoy':'gfnQg','jlWPm':'https://bean.m.jd.com/bean/signIndex.action','iyljF':_0x562e('‫14','iPr@'),'ECmNo':'https://u.jd.com/ndW3hzG','FtWyQ':function(_0x2b191b,_0x307c33,_0x2042a2){return _0x2b191b(_0x307c33,_0x2042a2);},'nHlSj':'https://item.m.jd.com/product/100018961518.html?sku=100018961518&requestId=null&cu=true&utm_source=kong&utm_medium=jingfen&utm_campaign=t_2011670082_&utm_term=42881b7d46114a9888d68f074d5cf22e','RqhNg':'https://api.m.jd.com/api?functionId=getUnionActivity&appid=u&client=android&clientVersion=1.1.0&body=%7B%22id%22%3A%2220032%22%7D&eid=445P43MZYVISKMQCPTZJUHNWM7FLOFQ5RVSYN3AUHQ3Y4ACGRA2YSMRFNRANJHHYJFMBJTCE2KOHG2F5FV3AC4O6S4','bADWm':_0x562e('‫15','N$v('),'LnNoY':_0x562e('‫16','RTZV'),'Ctjed':function(_0x9419a7,_0x5aca45,_0x119e5d,_0x1d1971){return _0x9419a7(_0x5aca45,_0x119e5d,_0x1d1971);},'hXCZq':_0x562e('‮17','m8&@'),'DEPYD':_0x562e('‮18','eQPq'),'RFuLG':function(_0x240418,_0x2c8bea,_0x90c8b0,_0x68e86f){return _0x240418(_0x2c8bea,_0x90c8b0,_0x68e86f);},'sqlwP':_0x562e('‫19','xC]y')};if(!cookiesArr[0x0]){$[_0x562e('‫1a','h$e&')]($['name'],_0x1b2576['qRfYX'],_0x562e('‫1b','ZdnT'),{'open-url':_0x562e('‫1c','VlFs')});return;}for(let _0x352ba4=0x0;_0x352ba4<cookiesArr[_0x562e('‮1d','8oy2')];_0x352ba4++){if(_0x1b2576[_0x562e('‫1e','Mn[Z')](_0x1b2576['xWTjn'],_0x1b2576['wSWVq'])){if(cookiesArr[_0x352ba4]){if(_0x1b2576['lsAZX'](_0x1b2576['nqAWk'],_0x1b2576[_0x562e('‫1f','rfEF')])){cookie=cookiesArr[_0x352ba4];$[_0x562e('‫20','@7hf')]=decodeURIComponent(cookie[_0x562e('‮21','J[fB')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x562e('‫22','$JhV')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x562e('‫23','l*^P')]=_0x352ba4+0x1;$[_0x562e('‮24','VlFs')]=!![];$[_0x562e('‮25','7F&T')]='';message='';console[_0x562e('‫26','oMTj')]('\x0a******开始【京东账号'+$[_0x562e('‮27','VlFs')]+'】'+($['nickName']||$['UserName'])+_0x562e('‫28','eQPq'));if(!$['isLogin']){if(_0x1b2576['QCPoy']===_0x562e('‫29','Ccxe')){$['msg']($[_0x562e('‮2a','8tHk')],_0x562e('‫2b','J[fB'),_0x562e('‫2c','5DPb')+$[_0x562e('‫2d','CfAB')]+'\x20'+($[_0x562e('‫2e','U4TE')]||$[_0x562e('‮2f','CfAB')])+_0x562e('‮30','5DPb'),{'open-url':_0x1b2576[_0x562e('‮31','[DG7')]});if($[_0x562e('‫32','$JhV')]()){await notify[_0x562e('‮33','0AeB')]($[_0x562e('‮34','$O(c')]+'cookie已失效\x20-\x20'+$['UserName'],_0x562e('‮35','y8!d')+$[_0x562e('‮36','UPPJ')]+'\x20'+$[_0x562e('‮37','$JhV')]+_0x562e('‫38','3rM0'));}continue;}else{if(_0x1b2576[_0x562e('‫39','7PMP')](typeof str,_0x562e('‫3a','ZdnT'))){try{return JSON['parse'](str);}catch(_0x4b9091){console[_0x562e('‮3b','iPr@')](_0x4b9091);$[_0x562e('‫3c','8oy2')]($['name'],'',_0x1b2576['XDNFJ']);return[];}}}}await home(_0x1b2576[_0x562e('‮3d','rfEF')],_0x1b2576[_0x562e('‮3e','eQPq')]);await _0x1b2576['FtWyQ'](home,_0x1b2576['nHlSj'],'https://u.jd.com/');await home2(_0x1b2576[_0x562e('‫3f','Ccxe')],_0x1b2576[_0x562e('‮40','iPr@')],_0x1b2576['LnNoY']);await _0x1b2576['Ctjed'](home2,_0x1b2576[_0x562e('‫41','CfAB')],_0x1b2576[_0x562e('‫42','CUmq')],_0x1b2576[_0x562e('‫43','Ccxe')]);await _0x1b2576[_0x562e('‫44','5DPb')](home2,_0x1b2576[_0x562e('‫45','7F&T')],_0x1b2576[_0x562e('‫46','gzR4')],_0x1b2576[_0x562e('‫47','$JhV')]);await _0x1b2576[_0x562e('‫48','xC]y')](home2,_0x562e('‮49','3rM0'),_0x562e('‫4a','$O(c'),_0x562e('‮4b','CfAB'));await _0x1b2576[_0x562e('‫4c','ZdnT')](home3,_0x1b2576[_0x562e('‮4d','N$v(')],'https://item.m.jd.com/');}else{_0x1b2576[_0x562e('‮4e','l!jo')](resolve,data);}}}else{$[_0x562e('‮4f','INdN')]('','❌\x20'+$[_0x562e('‫50','7PMP')]+_0x562e('‮51','dD6f')+e+'!','');}}})()[_0x562e('‫52','INdN')](_0x16cc73=>{$['log']('','❌\x20'+$[_0x562e('‫53','y]#6')]+',\x20失败!\x20原因:\x20'+_0x16cc73+'!','');})['finally'](()=>{$[_0x562e('‫54','5DPb')]();});function home(_0x456740,_0x239b1e){var _0x2a56d6={'fYDrb':function(_0x56a267,_0x434935){return _0x56a267(_0x434935);},'cTRtJ':function(_0xc83093,_0x155301){return _0xc83093===_0x155301;},'PzPGG':'iUqQa','YpakB':function(_0x39f835,_0x87eaf1){return _0x39f835===_0x87eaf1;}};return new Promise(_0x84046f=>{var _0x21202d={'xOerS':function(_0x27d79a,_0x21c56a){return _0x2a56d6['fYDrb'](_0x27d79a,_0x21c56a);},'hyMCJ':function(_0xc3df8d,_0x19b816){return _0x2a56d6[_0x562e('‫55','s@Fy')](_0xc3df8d,_0x19b816);},'SOuTf':_0x2a56d6[_0x562e('‮56','CUmq')],'OsQth':function(_0x1e7cb9,_0x154d4a){return _0x2a56d6['YpakB'](_0x1e7cb9,_0x154d4a);},'GoaAQ':_0x562e('‫57','7F&T'),'yrAyF':_0x562e('‮58','0AeB'),'HDeLL':function(_0x2a79b6,_0x4ed448){return _0x2a79b6(_0x4ed448);}};$['get'](taskurl(_0x456740,_0x239b1e),async(_0x48b415,_0x1730b0,_0xd5a221)=>{var _0x51e4c3={'PBLUb':function(_0x6baa4b,_0x1d075a){return _0x21202d['xOerS'](_0x6baa4b,_0x1d075a);}};try{if(_0x48b415){console['log'](''+JSON['stringify'](_0x48b415));console[_0x562e('‫59','3aJ6')]($[_0x562e('‮5a','X3J&')]+'\x20API请求失败，请检查网路重试');}}catch(_0x189a36){if(_0x21202d[_0x562e('‫5b','U4TE')](_0x562e('‫5c','X3J&'),_0x21202d['SOuTf'])){$[_0x562e('‫5d','dD6f')](_0x189a36,_0x1730b0);}else{_0x51e4c3[_0x562e('‫5e','VlFs')](_0x84046f,_0xd5a221);}}finally{if(_0x21202d[_0x562e('‮5f','7jC&')](_0x21202d['GoaAQ'],_0x21202d[_0x562e('‮60','U4TE')])){console[_0x562e('‮61','$O(c')](''+JSON[_0x562e('‮62','7PMP')](_0x48b415));console['log']($[_0x562e('‮63','s@Fy')]+_0x562e('‮64','ZdnT'));}else{_0x21202d['HDeLL'](_0x84046f,_0xd5a221);}}});});}function home2(_0x541675,_0xd17287,_0x16eb28){var _0x286e74={'FPnmg':function(_0x2e4f67,_0x5df6e1){return _0x2e4f67!==_0x5df6e1;},'vCaRn':'OmufX','JqSxi':function(_0x4d53e5,_0x419e64){return _0x4d53e5(_0x419e64);}};return new Promise(_0x5f2dc5=>{$[_0x562e('‫65','7PMP')](taskurl2(_0x541675,_0xd17287,_0x16eb28),async(_0x31d3af,_0x2074dc,_0x50d518)=>{try{if(_0x286e74[_0x562e('‫66','8oy2')]('OmufX',_0x286e74[_0x562e('‫67','CfAB')])){return JSON[_0x562e('‮68','@7hf')](str);}else{if(_0x31d3af){console[_0x562e('‫26','oMTj')](''+JSON[_0x562e('‮69','X3J&')](_0x31d3af));console['log']($[_0x562e('‫6a','MxEU')]+'\x20API请求失败，请检查网路重试');}}}catch(_0x314571){$[_0x562e('‮6b','[Zo!')](_0x314571,_0x2074dc);}finally{_0x286e74[_0x562e('‮6c','s@Fy')](_0x5f2dc5,_0x50d518);}});});}function home3(_0x186613,_0x4d5a61){var _0x42654c={'JpemR':_0x562e('‫6d','J[fB'),'iFDGa':_0x562e('‮6e','@n5L'),'YGtnv':_0x562e('‫6f','INdN')};return new Promise(_0x3d6e4a=>{var _0x8bd9f4={'GVuRV':_0x42654c[_0x562e('‫70','@7hf')],'HQqmD':function(_0x4042e3,_0x390c06){return _0x4042e3===_0x390c06;},'RCMAT':_0x562e('‫71','VlFs'),'siVQN':_0x42654c[_0x562e('‮72','m8&@')],'oWWLT':_0x42654c[_0x562e('‮73','gzR4')],'KbkdX':function(_0x1f08ba,_0x241ff2){return _0x1f08ba(_0x241ff2);}};$[_0x562e('‮74','8tHk')](taskurl3(_0x186613,_0x4d5a61),async(_0x594ab9,_0x117ea1,_0x55c9f2)=>{var _0x2b9914={'kzYFr':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','HHTSM':_0x8bd9f4[_0x562e('‫75','eQPq')]};try{if(_0x8bd9f4[_0x562e('‮76','INdN')](_0x8bd9f4['RCMAT'],_0x8bd9f4['siVQN'])){$[_0x562e('‫77','gzR4')](e,_0x117ea1);}else{if(_0x594ab9){console[_0x562e('‫78','8tHk')](''+JSON['stringify'](_0x594ab9));console[_0x562e('‮79','8oy2')]($[_0x562e('‮7a','Ccxe')]+'\x20API请求失败，请检查网路重试');}}}catch(_0x4b845e){if(_0x8bd9f4[_0x562e('‫7b','@7hf')]('dvpBD',_0x562e('‮7c','l!jo'))){$[_0x562e('‮7d','5DPb')](_0x4b845e,_0x117ea1);}else{$[_0x562e('‫7e','Ccxe')]($[_0x562e('‮34','$O(c')],_0x2b9914['kzYFr'],'https://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x562e('‮7f','^J6X')});return;}}finally{if(_0x8bd9f4[_0x562e('‮80','MxEU')]!==_0x8bd9f4[_0x562e('‮81','dD6f')]){console[_0x562e('‮82','U4TE')](e);$['msg']($[_0x562e('‮83','oMTj')],'',_0x2b9914[_0x562e('‫84','8oy2')]);return[];}else{_0x8bd9f4[_0x562e('‮85','N$v(')](_0x3d6e4a,_0x55c9f2);}}});});}function safeGet(_0x8bff0c){return!![];}function jsonParse(_0x2af7e9){var _0x5383f8={'kpCwl':function(_0x194278,_0x186efe){return _0x194278==_0x186efe;},'iZqrW':_0x562e('‫86','gzR4')};if(_0x5383f8[_0x562e('‮87','eQPq')](typeof _0x2af7e9,'string')){try{return JSON[_0x562e('‫88','Ccxe')](_0x2af7e9);}catch(_0x24fedd){console['log'](_0x24fedd);$[_0x562e('‮89','MxEU')]($[_0x562e('‫8a','INdN')],'',_0x5383f8['iZqrW']);return[];}}}function taskurl(_0x5eb9e4,_0x48df8d){var _0x29cfe6={'YvBPU':_0x562e('‮8b','3rM0'),'WAiyB':_0x562e('‫8c','s@Fy'),'djtfy':_0x562e('‫8d','iPr@'),'HpmNS':_0x562e('‫8e','J[fB'),'ajorf':_0x562e('‫8f','m8&@')};return{'url':_0x5eb9e4,'headers':{'Cookie':cookie,'referer':_0x48df8d,'sec-ch-ua':_0x29cfe6[_0x562e('‫90','l*^P')],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':_0x29cfe6[_0x562e('‮91','@7hf')],'sec-fetch-dest':_0x29cfe6[_0x562e('‮92','eQPq')],'sec-fetch-mode':'navigate','sec-fetch-site':_0x29cfe6[_0x562e('‮93','h$e&')],'upgrade-insecure-requests':0x1,'user-agent':_0x29cfe6[_0x562e('‫94','iPr@')]}};}function taskurl2(_0x340b33,_0x209fd1,_0x2e0c52){var _0xd0c13a={'ytdcQ':_0x562e('‫95','INdN'),'uFZyH':_0x562e('‫96','U4TE'),'MkxLY':_0x562e('‫97','@n5L')};return{'url':_0x340b33,'headers':{'Cookie':cookie,'origin':_0x209fd1,'referer':_0x2e0c52,'sec-ch-ua':_0xd0c13a['ytdcQ'],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':_0xd0c13a['uFZyH'],'sec-fetch-dest':'empty','sec-fetch-mode':_0x562e('‮98','CfAB'),'sec-fetch-site':_0xd0c13a['MkxLY'],'user-agent':_0x562e('‮99','xC]y')}};}function taskurl3(_0x5a2397,_0x349b85){var _0x3bc93a={'wFRii':_0x562e('‮9a','@7hf'),'rpNye':_0x562e('‫9b','l*^P'),'PmCbu':'cors','WWQbK':'same-site'};return{'url':_0x5a2397,'headers':{'Cookie':cookie,'referer':_0x349b85,'sec-ch-ua':_0x3bc93a[_0x562e('‫9c','U4TE')],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':_0x562e('‮9d','y8!d'),'sec-fetch-dest':_0x3bc93a[_0x562e('‫9e','7F&T')],'sec-fetch-mode':_0x3bc93a[_0x562e('‫9f','[DG7')],'sec-fetch-site':_0x3bc93a[_0x562e('‫a0','7F&T')],'user-agent':'Mozilla/5.0\x20(Linux;\x20Android\x206.0;\x20Nexus\x205\x20Build/MRA58N)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/95.0.4638.69\x20Mobile\x20Safari/537.36'}};};_0xodo='jsjiami.com.v6';
!function (n) { "use strict"; function t(n, t) { var r = (65535 & n) + (65535 & t); return (n >> 16) + (t >> 16) + (r >> 16) << 16 | 65535 & r } function r(n, t) { return n << t | n >>> 32 - t } function e(n, e, o, u, c, f) { return t(r(t(t(e, n), t(u, f)), c), o) } function o(n, t, r, o, u, c, f) { return e(t & r | ~t & o, n, t, u, c, f) } function u(n, t, r, o, u, c, f) { return e(t & o | r & ~o, n, t, u, c, f) } function c(n, t, r, o, u, c, f) { return e(t ^ r ^ o, n, t, u, c, f) } function f(n, t, r, o, u, c, f) { return e(r ^ (t | ~o), n, t, u, c, f) } function i(n, r) { n[r >> 5] |= 128 << r % 32, n[14 + (r + 64 >>> 9 << 4)] = r; var e, i, a, d, h, l = 1732584193, g = -271733879, v = -1732584194, m = 271733878; for (e = 0; e < n.length; e += 16)i = l, a = g, d = v, h = m, g = f(g = f(g = f(g = f(g = c(g = c(g = c(g = c(g = u(g = u(g = u(g = u(g = o(g = o(g = o(g = o(g, v = o(v, m = o(m, l = o(l, g, v, m, n[e], 7, -680876936), g, v, n[e + 1], 12, -389564586), l, g, n[e + 2], 17, 606105819), m, l, n[e + 3], 22, -1044525330), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 4], 7, -176418897), g, v, n[e + 5], 12, 1200080426), l, g, n[e + 6], 17, -1473231341), m, l, n[e + 7], 22, -45705983), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 8], 7, 1770035416), g, v, n[e + 9], 12, -1958414417), l, g, n[e + 10], 17, -42063), m, l, n[e + 11], 22, -1990404162), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 12], 7, 1804603682), g, v, n[e + 13], 12, -40341101), l, g, n[e + 14], 17, -1502002290), m, l, n[e + 15], 22, 1236535329), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 1], 5, -165796510), g, v, n[e + 6], 9, -1069501632), l, g, n[e + 11], 14, 643717713), m, l, n[e], 20, -373897302), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 5], 5, -701558691), g, v, n[e + 10], 9, 38016083), l, g, n[e + 15], 14, -660478335), m, l, n[e + 4], 20, -405537848), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 9], 5, 568446438), g, v, n[e + 14], 9, -1019803690), l, g, n[e + 3], 14, -187363961), m, l, n[e + 8], 20, 1163531501), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 13], 5, -1444681467), g, v, n[e + 2], 9, -51403784), l, g, n[e + 7], 14, 1735328473), m, l, n[e + 12], 20, -1926607734), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 5], 4, -378558), g, v, n[e + 8], 11, -2022574463), l, g, n[e + 11], 16, 1839030562), m, l, n[e + 14], 23, -35309556), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 1], 4, -1530992060), g, v, n[e + 4], 11, 1272893353), l, g, n[e + 7], 16, -155497632), m, l, n[e + 10], 23, -1094730640), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 13], 4, 681279174), g, v, n[e], 11, -358537222), l, g, n[e + 3], 16, -722521979), m, l, n[e + 6], 23, 76029189), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 9], 4, -640364487), g, v, n[e + 12], 11, -421815835), l, g, n[e + 15], 16, 530742520), m, l, n[e + 2], 23, -995338651), v = f(v, m = f(m, l = f(l, g, v, m, n[e], 6, -198630844), g, v, n[e + 7], 10, 1126891415), l, g, n[e + 14], 15, -1416354905), m, l, n[e + 5], 21, -57434055), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 12], 6, 1700485571), g, v, n[e + 3], 10, -1894986606), l, g, n[e + 10], 15, -1051523), m, l, n[e + 1], 21, -2054922799), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 8], 6, 1873313359), g, v, n[e + 15], 10, -30611744), l, g, n[e + 6], 15, -1560198380), m, l, n[e + 13], 21, 1309151649), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 4], 6, -145523070), g, v, n[e + 11], 10, -1120210379), l, g, n[e + 2], 15, 718787259), m, l, n[e + 9], 21, -343485551), l = t(l, i), g = t(g, a), v = t(v, d), m = t(m, h); return [l, g, v, m] } function a(n) { var t, r = "", e = 32 * n.length; for (t = 0; t < e; t += 8)r += String.fromCharCode(n[t >> 5] >>> t % 32 & 255); return r } function d(n) { var t, r = []; for (r[(n.length >> 2) - 1] = void 0, t = 0; t < r.length; t += 1)r[t] = 0; var e = 8 * n.length; for (t = 0; t < e; t += 8)r[t >> 5] |= (255 & n.charCodeAt(t / 8)) << t % 32; return r } function h(n) { return a(i(d(n), 8 * n.length)) } function l(n, t) { var r, e, o = d(n), u = [], c = []; for (u[15] = c[15] = void 0, o.length > 16 && (o = i(o, 8 * n.length)), r = 0; r < 16; r += 1)u[r] = 909522486 ^ o[r], c[r] = 1549556828 ^ o[r]; return e = i(u.concat(d(t)), 512 + 8 * t.length), a(i(c.concat(e), 640)) } function g(n) { var t, r, e = ""; for (r = 0; r < n.length; r += 1)t = n.charCodeAt(r), e += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t); return e } function v(n) { return unescape(encodeURIComponent(n)) } function m(n) { return h(v(n)) } function p(n) { return g(m(n)) } function s(n, t) { return l(v(n), v(t)) } function C(n, t) { return g(s(n, t)) } function A(n, t, r) { return t ? r ? s(t, n) : C(t, n) : r ? m(n) : p(n) } $.md5 = A }(this);
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
