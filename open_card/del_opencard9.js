/*
[task_local]
惊喜自营
0 20 0,7,15,21 * * ?  jd_zzljd.js, tag=惊喜自营, enabled=true
================Loon==============
[Script]
cron "0 0 1,7,15,21 * * ? " script-path=jd_zzljd.js,tag=惊喜自营
*/
const $ = new Env("绝对是没奖励");
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const notify = $.isNode() ? require('./sendNotify') : '';
var _0xodT='jsjiami.com.v6',_0xodT_=['‮_0xodT'],_0x7ace=[_0xodT,'w4vCswfDgiE=','T3fCswfDjQ==','LCk8w5hw','dAbDmsKaJw==','w5cKdcO6wqlg','fsK6woM1w60=','6Ky15Yi56ZuO5oaM5ZyeXMKQMhDCpOi/s+WFq+ain+S+hOaUueWFg+WvusOq5bil6K2h6YKf6L286Ia55p2l5Y2i6I6q5Y6+w4kLw5hVWEw=','w7XChMOgdcOp','wrtfwrYVWg==','DCTDocO+w48=','ZFxY','woQCBMKGTMOyw6dOw7I=','wq1LLA==','ezUAw6EM','wpDCnlg=','wq/CtSY=','w4HCgATDig==','w5UxGcKARcO5w6sIw4jDvsOAcsOzwp93P0Zxw70vw7fDgiXCgQXCkMOzZsOmO2tsE1JnOcOBa8KMFwjCqMKLwpbDvCsyTlwPw6kiw4XDhcO5b3NWwoJLDBhawrY=','aMOMwofCq8KPMMOI','wpLCkEnCu8OlajrDkA==','eDUfw7dER8K0XWPCn8KY','DxDDu8Kiw4k=','w4fDmMO7w7hT','Q0J9acKg','wpXCtxMjwqk=','GzgQw5xN','wp7ChMKEMBPDoxw=','wp/Cnk3CoQ==','w7TDmsO7wp7Di1HChzvCmQ==','w4vCjcOXVsOm','eMO4wrnCqMKi','WsKywr4Uw5E=','wrFDAHDCtA==','wpHCs0fCucOu','NU/Dq8KdZGzCrQ3DjzRlQFrCszw6BcO7NUjCjsKaw456w750w6krwo8Sw7VrwrxYwqIMw5daw6/Dk8OOIhvCscOYw4NcRMOaTMOOw4tTw77Cp33Cp3vDsHclBF1DfsO4wokoThvCjcK0w6/DijlSw6kCWBQqa1LCrcOvb21jOsKvwqvCmcKrw4Z1wqp1w6LDlH1IeGN5GcKERsKRBMKKMMOwDTHCnGrCiFXDhRslw7PCtsKPEzg/wqcJwrZGw5PDhVvDo8KvwrfDqiHCm8KTwqfDusOdBk7Di8KLFhIeE0TDoH/CrDHCjUfDvMK0UFVHw4bCmgZvPlwAwrrDlk5Qw73ClRbCusO9w4rCmsOZwrMsa8KnH8K0NBLCoGzCuMOOw4rCjBnDiGNFfVBcFGHCv8OvSsOzRlk6Tg==','w5rDjw/CrMKVw6TCucK+w4Uvw6VqO1TCmVdpdgPDqUFOwoHDq8OSWmpVCTFWw6NGwp7DnMKK','wr/DlX9jGA==','wqXDvMO5wpTCgU7Ci2/Cv8Ovf2Vuw51LwrDDqhHChRZfWMOgw5kjL8K5D3Vhw65AFn5LaUQKw7nChgx1w6Z+wp4ww7nCocOsBMO1wo8pW2LClX/DjsKySsOwWlvCoA==','wrrCh8KQNgU=','WVF5a8K7','KhTDgsOOw4E=','w4scFi57','SsKxwqUOw4fDt8KX','wpHCnn7CpsOg','Ii4nw7po','Vg/ChcKrMQ==','w5vCnsKvS8Ki','wqvCmMO3KsKj','wr3CogsBwo0=','w6LCjhPDhixdLAwBwp7DtShaw4bCt8K0bMOzwqvDqcKHF8KFLH3CtMK1McOnXnN7wpvChMOyw5k9w4bDgcK5wrXCn8KrBAc7wodfwqVfO2xSGcOSwqVIw4JZM8KkcMOSanvDgUd/OgrChmppwpcdLVNyRMO6wocowqhvw7xZBcKONA7CvwnCjMKFw5HCrm/DvsO4wpRCYh9OfgTCocOawpMBwr12wootw5/DkmJ4wp/Dqh89w7JBw7MxwqTDlA3DqyJVwpfCrg==','JiTDlcOY','ZCrDocO+w6kTw4I=','w5YGJDI=','TMOMwpU=','w6XCpTbDqwVzGGQ=','wq/CgcOkw7jCrRZ2VQ==','w5bDuMOuw4JP','LHVC','NCQewpHDoCgr','LQfDpsK5w5bDvl00','w5HClMKaW8KhwozDvQ==','JsK0EcKoA8KSF8KpwpM=','w5Ehw6zDiTbDmMOR','RsOCXcOZwqkPw5Y6Vg==','w4LCgBk=','w6PDqcKSwqHDgcOA','bsOTw7rDrhpM','6K2R5YqM6ZuY5oWV5Zyxw7HCvcOCCsK+6L2L5Yec5qGG5Lyc5paf5YWD5a2Ywqnlu6nor7bpgK3ovI/oh7bmnoPlj63oj5XljbfDpC86ZFIm','44Km5oyh56eU44Cu6Ky35Yaw6Iyr5Y285LuL5Liw6LSu5Y6s5LqPw7nCuWrDlDBuXueYquaPluS8nOeWs8OlwrBFwoQ0EeebnuS7peS6juevqOWIj+iMiOWOpA==','DcKvCsKzGcONcsOCw4PDsA7ChMK0dsK9wql3LkbDgQodL8Olw6jDr1rDnMO2d8OvF8Kfw5fCrxnCgMOfYGQnJcOM','w7jDl8KPwqzDgw==','w54ww6zDnSTClsKfQ3puFsOqw7PCj8O0ccKNa0wVJVI=','NsKvMcKPw6VxPy0OwoInR8OQLcKkwobDlXUqwoIxw6HClidaw6TCrsOxw6xXO8Ozwod5wq8tw7XChBkRN8KkfsKpC8Kaw5wfwqBew6B8wqvClMOMbgvClgnCocKAScKQKkhpw6ZqWMOpA8KBw45Kw4Yfwpcqw6VlT8Oaw6EkUHA0wqZswrLDocO5w4HCvcOfw7xDUlkkHsKPcsOmCCnCkRQow7gIFMOBOCfDv8Kuw4Q9L0zDqcOjHRBCw7LCum04woUNdcKbegHCu8OJTxY+w4gDdMKqw51Rw6nCs8O7TjDDs8KJZC0Iw5/Ck8KLDAptCsK3CWHCqcO8d8ONNWLDjcKlw45ow4HCoSvCjcKJwoEpchMiwr3Dt8KreQ9RQWPCpHp5cgpNw4jDlsKewoUxw5EPBFQnw7AMOw==','wqbDkWNvHQ==','w6zDlMODwqHCgg==','JTXDmMObw7ksw4pndcKkwoQow59iwpEbwrECS2jCrMO8DFDCvHNvag7Dj0rDkxHDhl1Kw5oJISTDvTtd','w7rDlMOUw6tp','S8ODw6LDnB4=','PCPDoMK2w40=','wrLCpzPDsFM=','Yi/DoA==','ZcOJw7E=','ZsObw7vDvw==','SjHDrsKwLQ==','wpoXAsKMSg==','wonDpnHCksO2','wprChAwowqE=','VMOxb8OVwrxhOuW8guWmr+ODu+S7peS4vOi2kOWOvw==','Ji8Cw6ty','w7PDiMO9w4pfwohPw4k=','wrfDnV/DrcK5wrHCscOr','SC91wq3CnCYFw74UTw==','wovDnXbDsMKQwrnCsg==','FWlAD3tYw7HDpw==','wqPor57ph5vmlr3nm5zlvqfojZvljr04w64NG1B4wqg6w43Ch8Okw6p+LA3DoybDssK1w4ZwXjvCi8ODB8KXNMKRPRgyw5oWKVE6wpUdAsKSw6BsNQ==','dicGJ0o=','dDsdEkrDng==','w4Uhw7bDiRnDg8OEBXZ+','5LmO5Lqy6LSc5Y2o','w5jClcOjSsOwKn7DgQ==','w73oroHphrvmlZ/nmZnlv4DojLnlj77DqMO5w512w7fCnw==','Qg/Dr8KZFw==','TcK3wogXQyfCkcKQwqXClsOUdCHDsBJ2BMKZw5XDjjfDpC9yw77DhsOpRgQNw6zCpMOVJMORXMKowrBUw53CpcKKXVPCng3Cj1PCp3PDocKeIMKnw6ZQw58CS8O9RzkeR8K3eMKTwoPCi0gmD8OVw7TCsE/Dg8KQw7zDicKLwoHDpcKtbcKkZsOwSi8QYAMZKWnDqcKawozCmjkqwqLDj8KcIGzDhcK9Yi3CncKhdMOxw5M4DsOnwqDCujU5NEAzLyvCvMKGIQXDlMOewpB+KcKTw5tewqvDszPCt152wrrDtMOMScOVw6rDlSoIwqLDsnLCgsK3w5xhGMOeZALCvHvCrsKQwoXDncOwPHzCvsOKW2dWfQFLwqUGEMOrw5Zcwr/CuR8OwqZQw5NsZ2w8wpHCgloTw5HDicKFw5xkdcKCwqAIw60=','w4fCqMOzbMOv','w6YOw6DDvjQ=','wqbDoFLCh8Ob','TnbCpcKjwoA=','wrHCi8KNJw==','JBPlpI7otILDiMKB5Y2a5ZioVcK+','Y8OEXMOTwqwGw5w=','CgfDp8K3','wpTCljXDj38=','DMK+BMKWw4c=','NhMHw6xS','w6HDnsORw795','w4PDtMKSwqfDkA==','F1fDvsK7YQ==','woLCoMOP','GSckwpnDjQ==','NEYcw5LDvA==','dsOZQMObwq4Nw4wWaw==','w5zDtsOl','woloRkTorZDmsrDlp53otY7vvL7orbHmornmnornvbHot6TphZ/or4A=','wqjCg8O4','cwA6wrzorbbmsJ7lpbvotKjvvLHorJrmoIrmnZXnvY3otb3phKfor4Y=','wrrCtUfCpMOM','IS7Di8Ouw7hk','wpPDgFHDpcKl','eg7CoMKtPC5D','Xg3CtMKrKg==','MC4YwoY=','SMOCSMObwqwGw4RfJwUuLy/DlcKdw5rClcKTYMO/PsO0wot0AsO0wodvwpV4w4RvLEkjwrgqwrzDqcOjCsKQw67CqcOEX8KcRcOKw4gPfHpXw582UyXDkMK3wqXDncOEcMOmw74owprDi28kDXXCu1DCpMOcKQUGwrfDtMKQSj3Dvm3Dj3FPB8Olwr3Cp8KaKcKAw6rCuF3DgcKzW1hvYsK9w4TDk0zDvS3Co8ORFMOWwobDk1/DuMKBFMOLw5EmI1/CqsKlJWvDhsKKwo4=','wrTCqWrCp8OF','MRXChhXChQ==','wqTCmxYzwoo=','Ui8iPkQ=','wpvClEs=','w6/DgcKzwpvDuA==','wpBLCVTCrA==','wrsAA8KMbg==','Whc3w7Mo','fcO0w4bDvwc=','ci/Dh8KdBQ==','EHtqO14=','VsKiwpECHW7Dl8OLwqo=','S8O4X8OlwrY=','w4VGcQ==','T8Ouwp4=','VQHCqcK6','wq3Cp8OWceitieawieWkoui2ge++keitveagtOafiOe+uei0hemGueiumw==','w5zDtsOlw7RYw6g=','M1rDssKI','YWHlpp3oto7Cqzbljbrlmqgtw6E=','w7ZuAsKKwog=','GBvDrsKEw7Y=','wrjDlWN2GWBkEcKfw7fDiBUBw7dSUB1+DlgvDj/CvCVow5vCgxzCksKXw6LCoUlQDcKEamnDtsKVa8KG','SSrCrsKbKw==','Q2tSQsKC','SiLDk0bCgw==','UcOLwpPDi8OG','en10UMKz','w4sAMA==','QVDCpsKD','bcKmwqUrw7g=','cg3Co8KeAA==','w5orw78=','wo7DgV0=','KiPCsQM=','KHJvbuisnuazo+WntOi3re+9o+itqeahmeaepue/mui2jemGu+isuA==','ZFxYYsKbw5M=','jOsbjCfidaZmiJQTFk.comM.v6yCQ=='];if(function(_0x5d8d23,_0x390f78,_0x1c351b){function _0x1408eb(_0x291b13,_0x43d9c5,_0x2a52eb,_0x33f51c,_0x329393,_0x32f6f2){_0x43d9c5=_0x43d9c5>>0x8,_0x329393='po';var _0x4ac779='shift',_0x1f78e9='push',_0x32f6f2='‮';if(_0x43d9c5<_0x291b13){while(--_0x291b13){_0x33f51c=_0x5d8d23[_0x4ac779]();if(_0x43d9c5===_0x291b13&&_0x32f6f2==='‮'&&_0x32f6f2['length']===0x1){_0x43d9c5=_0x33f51c,_0x2a52eb=_0x5d8d23[_0x329393+'p']();}else if(_0x43d9c5&&_0x2a52eb['replace'](/[ObCfdZJQTFkMyCQ=]/g,'')===_0x43d9c5){_0x5d8d23[_0x1f78e9](_0x33f51c);}}_0x5d8d23[_0x1f78e9](_0x5d8d23[_0x4ac779]());}return 0xc0cce;};return _0x1408eb(++_0x390f78,_0x1c351b)>>_0x390f78^_0x1c351b;}(_0x7ace,0x186,0x18600),_0x7ace){_0xodT_=_0x7ace['length']^0x186;};function _0x435b(_0x5fd59a,_0x30d027){_0x5fd59a=~~'0x'['concat'](_0x5fd59a['slice'](0x1));var _0x3a2635=_0x7ace[_0x5fd59a];if(_0x435b['PvHgLE']===undefined){(function(){var _0x16060c=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0xa3d8a6='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x16060c['atob']||(_0x16060c['atob']=function(_0x2c3bc7){var _0x92f58c=String(_0x2c3bc7)['replace'](/=+$/,'');for(var _0x13864d=0x0,_0x2dd16b,_0x53b051,_0x3c74c2=0x0,_0x4aab00='';_0x53b051=_0x92f58c['charAt'](_0x3c74c2++);~_0x53b051&&(_0x2dd16b=_0x13864d%0x4?_0x2dd16b*0x40+_0x53b051:_0x53b051,_0x13864d++%0x4)?_0x4aab00+=String['fromCharCode'](0xff&_0x2dd16b>>(-0x2*_0x13864d&0x6)):0x0){_0x53b051=_0xa3d8a6['indexOf'](_0x53b051);}return _0x4aab00;});}());function _0x2d5067(_0x3b2f26,_0x30d027){var _0x3b9292=[],_0x1a2761=0x0,_0x547b62,_0x2cfb2f='',_0x5b7e58='';_0x3b2f26=atob(_0x3b2f26);for(var _0x4dd706=0x0,_0x130a45=_0x3b2f26['length'];_0x4dd706<_0x130a45;_0x4dd706++){_0x5b7e58+='%'+('00'+_0x3b2f26['charCodeAt'](_0x4dd706)['toString'](0x10))['slice'](-0x2);}_0x3b2f26=decodeURIComponent(_0x5b7e58);for(var _0xb7ebab=0x0;_0xb7ebab<0x100;_0xb7ebab++){_0x3b9292[_0xb7ebab]=_0xb7ebab;}for(_0xb7ebab=0x0;_0xb7ebab<0x100;_0xb7ebab++){_0x1a2761=(_0x1a2761+_0x3b9292[_0xb7ebab]+_0x30d027['charCodeAt'](_0xb7ebab%_0x30d027['length']))%0x100;_0x547b62=_0x3b9292[_0xb7ebab];_0x3b9292[_0xb7ebab]=_0x3b9292[_0x1a2761];_0x3b9292[_0x1a2761]=_0x547b62;}_0xb7ebab=0x0;_0x1a2761=0x0;for(var _0x108f95=0x0;_0x108f95<_0x3b2f26['length'];_0x108f95++){_0xb7ebab=(_0xb7ebab+0x1)%0x100;_0x1a2761=(_0x1a2761+_0x3b9292[_0xb7ebab])%0x100;_0x547b62=_0x3b9292[_0xb7ebab];_0x3b9292[_0xb7ebab]=_0x3b9292[_0x1a2761];_0x3b9292[_0x1a2761]=_0x547b62;_0x2cfb2f+=String['fromCharCode'](_0x3b2f26['charCodeAt'](_0x108f95)^_0x3b9292[(_0x3b9292[_0xb7ebab]+_0x3b9292[_0x1a2761])%0x100]);}return _0x2cfb2f;}_0x435b['xEocuT']=_0x2d5067;_0x435b['yVNOxq']={};_0x435b['PvHgLE']=!![];}var _0x47257f=_0x435b['yVNOxq'][_0x5fd59a];if(_0x47257f===undefined){if(_0x435b['UBeOfU']===undefined){_0x435b['UBeOfU']=!![];}_0x3a2635=_0x435b['xEocuT'](_0x3a2635,_0x30d027);_0x435b['yVNOxq'][_0x5fd59a]=_0x3a2635;}else{_0x3a2635=_0x47257f;}return _0x3a2635;};let cookiesArr=[],cookie='',message;if($['isNode']()){Object[_0x435b('‫0','fyHK')](jdCookieNode)[_0x435b('‮1','6JLJ')](_0x44e2c0=>{cookiesArr[_0x435b('‫2','518z')](jdCookieNode[_0x44e2c0]);});if(process[_0x435b('‮3','*4g^')][_0x435b('‮4','1B&^')]&&process['env'][_0x435b('‫5','3mt4')]===_0x435b('‫6','a6ta'))console[_0x435b('‫7','V)lt')]=()=>{};}else{cookiesArr=[$[_0x435b('‫8','0vR)')](_0x435b('‫9','04Le')),$[_0x435b('‮a','*16T')](_0x435b('‮b','e8DO')),...jsonParse($[_0x435b('‮c','$t2g')](_0x435b('‫d',']OlC'))||'[]')[_0x435b('‮e','1B&^')](_0x402989=>_0x402989[_0x435b('‫f','TyA3')])][_0x435b('‮10','2WiY')](_0x300891=>!!_0x300891);}!(async()=>{var _0x4a23e8={'NVFYo':_0x435b('‫11','518z'),'vptiw':_0x435b('‫12','*16T'),'koUZd':_0x435b('‫13','e8DO'),'ECdvL':function(_0x349994,_0x858ba3){return _0x349994<_0x858ba3;},'guJJx':function(_0x28b0ff,_0x4f67a6){return _0x28b0ff===_0x4f67a6;},'RKidr':_0x435b('‮14','TyA3'),'bBchR':function(_0x56e7c9,_0x4f1376){return _0x56e7c9(_0x4f1376);},'hrRZx':function(_0x5f5863,_0x32c0b9){return _0x5f5863+_0x32c0b9;},'jEkSe':'https://api.m.jd.com/api?functionId=unionSearch&appid=u&client=&clientVersion=1.1.0&body=%7B%22funName%22%3A%22querySearchInfoByEliteId%22%2C%22param%22%3A%7B%22pageNo%22%3A1%2C%22pageSize%22%3A20%2C%22sortName%22%3Anull%2C%22eliteId%22%3A%22426%22%2C%22ownerUnionId%22%3A%222011670082%22%2C%22sort%22%3A%22asc%22%2C%22index%22%3A%221%22%7D%2C%22source%22%3A2%7D&eid=445P43MZYVISKMQCPTZJUHNWM7FLOFQ5RVSYN3AUHQ3Y4ACGRA2YSMRFNRANJHHYJFMBJTCE2KOHG2F5FV3AC4O6S4','FhGpU':_0x435b('‫15','$t2g'),'JNuTQ':function(_0x1845d0,_0x58bdc3,_0x5a855d,_0x3374d8){return _0x1845d0(_0x58bdc3,_0x5a855d,_0x3374d8);},'PJxSc':'https://httpfereport.jd.com/log','aGnEg':_0x435b('‫16','#w1M')};if(!cookiesArr[0x0]){$['msg']($['name'],_0x4a23e8[_0x435b('‫17',']qla')],_0x4a23e8[_0x435b('‫18','Zi@5')],{'open-url':_0x435b('‫19','fyHK')});return;}for(let _0x2dfc15=0x0;_0x4a23e8['ECdvL'](_0x2dfc15,cookiesArr['length']);_0x2dfc15++){if(_0x4a23e8[_0x435b('‮1a','Q%TF')](_0x435b('‮1b','2WiY'),_0x4a23e8[_0x435b('‫1c','04Le')])){try{return JSON[_0x435b('‮1d','&ceQ')](str);}catch(_0x25493f){console[_0x435b('‮1e','(ff6')](_0x25493f);$[_0x435b('‮1f','2WiY')]($[_0x435b('‮20','2WiY')],'',_0x4a23e8[_0x435b('‮21','zhan')]);return[];}}else{if(cookiesArr[_0x2dfc15]){cookie=cookiesArr[_0x2dfc15];$['UserName']=_0x4a23e8['bBchR'](decodeURIComponent,cookie[_0x435b('‫22','nKxl')](/pt_pin=([^; ]+)(?=;?)/)&&cookie['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x435b('‮23','MsC#')]=_0x4a23e8[_0x435b('‫24','q&G@')](_0x2dfc15,0x1);$['isLogin']=!![];$['nickName']='';message='';console['log'](_0x435b('‮25','#w1M')+$[_0x435b('‮26','zxok')]+'】'+($[_0x435b('‫27','Q%TF')]||$[_0x435b('‫28','S*aq')])+_0x435b('‫29','Hxt^'));if(!$[_0x435b('‮2a','S*aq')]){$['msg']($['name'],'【提示】cookie已失效','京东账号'+$['index']+'\x20'+($['nickName']||$[_0x435b('‫2b','V)lt')])+_0x435b('‫2c','f4Mh'),{'open-url':_0x4a23e8[_0x435b('‫2d','!pwC')]});if($[_0x435b('‮2e','!pwC')]()){await notify[_0x435b('‮2f','$t2g')]($['name']+'cookie已失效\x20-\x20'+$['UserName'],_0x435b('‮30','S*aq')+$['index']+'\x20'+$[_0x435b('‫31','FwoW')]+_0x435b('‫32','nKxl'));}continue;}await home2(_0x4a23e8['jEkSe'],_0x4a23e8[_0x435b('‮33','zhan')],_0x435b('‫34','@fB^'));await _0x4a23e8[_0x435b('‫35','FwoW')](home3,_0x4a23e8[_0x435b('‮36','$t2g')],_0x4a23e8[_0x435b('‫37','MsC#')],_0x4a23e8[_0x435b('‮38','g[yQ')]);}}}})()['catch'](_0x26bfdc=>{$['log']('','❌\x20'+$[_0x435b('‫39','t!t&')]+_0x435b('‫3a','eefr')+_0x26bfdc+'!','');})[_0x435b('‮3b',']OlC')](()=>{$[_0x435b('‫3c','04Le')]();});function home(_0x5b4031,_0x475133){var _0x3390ef={'EYysc':_0x435b('‫3d','&ceQ'),'yRabX':function(_0x4a0095,_0x3d3d7f){return _0x4a0095!==_0x3d3d7f;},'QGSNS':function(_0x220409,_0xf0477c){return _0x220409===_0xf0477c;},'Cromx':_0x435b('‫3e','#w1M'),'JlaVv':function(_0x520963,_0x3fba14){return _0x520963(_0x3fba14);},'KmASF':function(_0x4cd6eb,_0x3714e0,_0x48dbbd){return _0x4cd6eb(_0x3714e0,_0x48dbbd);}};return new Promise(_0x3a9a2f=>{var _0x2e234d={'XLaaC':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','JfNlL':function(_0x294168,_0x5a0be4){return _0x294168!==_0x5a0be4;},'VCCUJ':_0x3390ef['EYysc'],'FDxvN':function(_0x2685df,_0x523210){return _0x3390ef[_0x435b('‮3f','zxok')](_0x2685df,_0x523210);},'qnkzR':function(_0x2f4400,_0xe9d033){return _0x3390ef[_0x435b('‫40','a6ta')](_0x2f4400,_0xe9d033);},'BpJHM':_0x3390ef[_0x435b('‮41','TyA3')],'OVRUL':function(_0x5110f7,_0x20d641){return _0x3390ef[_0x435b('‮42','ekw9')](_0x5110f7,_0x20d641);}};$[_0x435b('‮43','3mt4')](_0x3390ef['KmASF'](taskurl,_0x5b4031,_0x475133),async(_0xa360e3,_0xcc16e5,_0x2c8c9a)=>{try{if(_0xa360e3){if(_0x2e234d[_0x435b('‮44','0vR)')](_0x2e234d['VCCUJ'],_0x2e234d[_0x435b('‮45','Hxt^')])){console[_0x435b('‮1e','(ff6')](''+JSON[_0x435b('‫46',']OlC')](_0xa360e3));console[_0x435b('‫47','a6ta')]($['name']+_0x435b('‮48','f4Mh'));}else{console[_0x435b('‮49','JUbW')](''+JSON['stringify'](_0xa360e3));console['log']($['name']+_0x435b('‮4a','0vR)'));}}}catch(_0x241c49){if(_0x2e234d[_0x435b('‮4b','nThu')]('zxzIj','Knqdc')){$[_0x435b('‫4c','fyHK')](_0x241c49,_0xcc16e5);}else{console['log'](_0x241c49);$['msg']($['name'],'',_0x2e234d['XLaaC']);return[];}}finally{if(_0x2e234d[_0x435b('‫4d','S*aq')](_0x2e234d['BpJHM'],'ReAiQ')){_0x2e234d['OVRUL'](_0x3a9a2f,_0x2c8c9a);}else{return!![];}}});});}function home2(_0x21d6e1,_0x190365,_0x447769){var _0x409f55={'uPAYm':'\x22Google\x20Chrome\x22;v=\x2295\x22,\x20\x22Chromium\x22;v=\x2295\x22,\x20\x22;Not\x20A\x20Brand\x22;v=\x2299\x22','QoBil':_0x435b('‫4e','z@O]'),'LvucL':_0x435b('‫4f','z@O]'),'nYvYh':_0x435b('‮50','0vR)'),'QCEaA':_0x435b('‮51',']OlC'),'ZUzVM':function(_0x22ad5f,_0x36853f){return _0x22ad5f===_0x36853f;},'mYsOm':_0x435b('‫52','nThu'),'VmHAS':'SEuzu','OgqCj':_0x435b('‫53','U&ot'),'oGNQP':function(_0xaf5afc,_0x32df96,_0x9da1db,_0x29d42a){return _0xaf5afc(_0x32df96,_0x9da1db,_0x29d42a);}};return new Promise(_0xdb528b=>{if(_0x409f55[_0x435b('‫54','q&G@')]!==_0x409f55[_0x435b('‫55','!pwC')]){$[_0x435b('‫56','nThu')](_0x409f55[_0x435b('‫57','TyA3')](taskurl2,_0x21d6e1,_0x190365,_0x447769),async(_0xb9539a,_0x5d198f,_0x4feb06)=>{var _0x2d6061={'uNPex':_0x409f55['uPAYm'],'vHotG':_0x409f55[_0x435b('‮58','OMD7')],'PaOFk':_0x409f55[_0x435b('‮59','nKxl')],'bOWcr':_0x409f55['nYvYh'],'NUmWv':_0x409f55[_0x435b('‫5a','glyR')]};try{if(_0x409f55['ZUzVM'](_0x409f55['mYsOm'],'axLNL')){return{'url':_0x21d6e1,'headers':{'Cookie':cookie,'origin':_0x190365,'referer':_0x447769,'sec-ch-ua':_0x2d6061[_0x435b('‫5b','2WiY')],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':_0x2d6061[_0x435b('‫5c','zhan')],'sec-fetch-dest':_0x2d6061[_0x435b('‫5d','V)lt')],'sec-fetch-mode':_0x2d6061['bOWcr'],'sec-fetch-site':_0x435b('‮5e','@fB^'),'user-agent':_0x2d6061[_0x435b('‮5f',']OlC')]}};}else{if(_0xb9539a){console[_0x435b('‫60','f4Mh')](''+JSON['stringify'](_0xb9539a));console[_0x435b('‫61','3S%m')]($[_0x435b('‮62','z@O]')]+_0x435b('‮63','FwoW'));}}}catch(_0x369e13){$[_0x435b('‮64','a6ta')](_0x369e13,_0x5d198f);}finally{_0xdb528b(_0x4feb06);}});}else{$['log']('','❌\x20'+$[_0x435b('‮65','ekw9')]+_0x435b('‮66','fyHK')+e+'!','');}});}function home3(_0x1feaea,_0x5cfbca,_0x170613){var _0x5f2ddd={'vsgVI':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','VCIeL':function(_0x4dbfe1,_0x37d697){return _0x4dbfe1===_0x37d697;},'kYMBY':_0x435b('‫67','Y3d1'),'KXmek':function(_0x238a56,_0x2c348f){return _0x238a56(_0x2c348f);},'DbTAd':function(_0x5f0710,_0x55078b,_0x24c49d,_0x376687){return _0x5f0710(_0x55078b,_0x24c49d,_0x376687);}};return new Promise(_0x8d9a54=>{var _0x37d7f1={'RykKP':_0x5f2ddd[_0x435b('‫68','04Le')],'ImgAS':_0x435b('‫69',']qla'),'rNKwZ':_0x435b('‮6a','z@O]'),'dRnma':function(_0xa9a710,_0x3cb07d){return _0x5f2ddd['VCIeL'](_0xa9a710,_0x3cb07d);},'chZVz':_0x5f2ddd['kYMBY'],'BLrkL':function(_0x1769be,_0xb0b770){return _0x5f2ddd[_0x435b('‫6b','eefr')](_0x1769be,_0xb0b770);}};$['get'](_0x5f2ddd[_0x435b('‮6c','(ff6')](taskurl3,_0x1feaea,_0x5cfbca,_0x170613),async(_0x5dabd4,_0x16b08e,_0x134d22)=>{try{if(_0x435b('‫6d','3S%m')!==_0x37d7f1[_0x435b('‮6e','eefr')]){$[_0x435b('‮6f','518z')]($[_0x435b('‫70','g[yQ')],_0x37d7f1[_0x435b('‫71','v]*d')],_0x37d7f1[_0x435b('‫72','z@O]')],{'open-url':_0x37d7f1['ImgAS']});return;}else{if(_0x5dabd4){console[_0x435b('‫73','$t2g')](''+JSON['stringify'](_0x5dabd4));console[_0x435b('‮74','S*aq')]($[_0x435b('‫75','U&ot')]+_0x435b('‮76','eefr'));}}}catch(_0x2249f4){$[_0x435b('‫77','eefr')](_0x2249f4,_0x16b08e);}finally{if(_0x37d7f1[_0x435b('‮78','1B&^')](_0x435b('‫79','GjG0'),_0x37d7f1[_0x435b('‮7a','zxok')])){return JSON[_0x435b('‫7b','zhan')](str);}else{_0x37d7f1['BLrkL'](_0x8d9a54,_0x134d22);}}});});}function safeGet(_0x53f23e){return!![];}function jsonParse(_0x2c74d2){var _0x42af25={'xbfMW':function(_0xb49309,_0x1193fa){return _0xb49309==_0x1193fa;},'TztWi':_0x435b('‫7c','3(ZO'),'oBLca':_0x435b('‫7d','v]*d'),'WjUmk':_0x435b('‫7e','&ceQ')};if(_0x42af25[_0x435b('‫7f','FwoW')](typeof _0x2c74d2,_0x42af25['TztWi'])){try{if(_0x42af25[_0x435b('‮80','(4nQ')]!==_0x435b('‫81','fyHK')){if(err){console[_0x435b('‫82','eefr')](''+JSON[_0x435b('‮83','nKxl')](err));console[_0x435b('‫84','OMD7')]($['name']+'\x20API请求失败，请检查网路重试');}}else{return JSON[_0x435b('‫85','glyR')](_0x2c74d2);}}catch(_0x551be3){console[_0x435b('‫86','nThu')](_0x551be3);$[_0x435b('‫87','&ceQ')]($[_0x435b('‮88','1B&^')],'',_0x42af25['WjUmk']);return[];}}}function taskurl(_0x50e276,_0x5f396d){var _0x59a425={'axrpv':_0x435b('‮89','nKxl'),'ZyeYB':_0x435b('‫8a','*4g^'),'KqBNI':'document','iPoII':_0x435b('‫8b','nThu'),'gAMQp':_0x435b('‮8c','glyR'),'TyvRG':'Mozilla/5.0\x20(Linux;\x20Android\x206.0;\x20Nexus\x205\x20Build/MRA58N)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/95.0.4638.69\x20Mobile\x20Safari/537.36'};return{'url':_0x50e276,'headers':{'Cookie':cookie,'referer':_0x5f396d,'sec-ch-ua':_0x59a425[_0x435b('‮8d','04Le')],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':_0x59a425[_0x435b('‫8e','Q%TF')],'sec-fetch-dest':_0x59a425[_0x435b('‮8f','eefr')],'sec-fetch-mode':_0x59a425['iPoII'],'sec-fetch-site':_0x59a425[_0x435b('‮90','q&G@')],'upgrade-insecure-requests':0x1,'user-agent':_0x59a425[_0x435b('‫91','zxok')]}};}function taskurl2(_0x217d77,_0x568afa,_0x2b6eb1){var _0x2e7c91={'FkQnX':_0x435b('‮89','nKxl'),'QZZqB':_0x435b('‮92','t!t&'),'pgKMt':_0x435b('‫93','nThu'),'mBxkl':_0x435b('‮94','Zi@5'),'wSYmP':_0x435b('‮51',']OlC')};return{'url':_0x217d77,'headers':{'Cookie':cookie,'origin':_0x568afa,'referer':_0x2b6eb1,'sec-ch-ua':_0x2e7c91[_0x435b('‫95','FwoW')],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':_0x2e7c91[_0x435b('‫96','*4g^')],'sec-fetch-dest':_0x435b('‫97','v]*d'),'sec-fetch-mode':_0x2e7c91[_0x435b('‮98','OMD7')],'sec-fetch-site':_0x2e7c91[_0x435b('‫99','nThu')],'user-agent':_0x2e7c91['wSYmP']}};}function taskurl3(_0x4ff915,_0x564f1b,_0x46a7f6){var _0x57b910={'QbFLR':_0x435b('‫9a','ekw9'),'gUneK':_0x435b('‮9b','S*aq'),'moAtb':_0x435b('‮9c',']qla'),'DGtyP':_0x435b('‫9d','Zi@5'),'BYWZd':_0x435b('‮9e','t!t&'),'OTUsT':_0x435b('‮5e','@fB^')};return{'url':_0x4ff915,'data':{'params':[{'logType':'_trackPerformance','apiName':'querySearchInfoByEliteId','apiTime':0xbd,'resolution':{'availHeight':0x410,'availWidth':0x780,'clientHeight':0x3a8,'clientWidth':0x182},'defaultErrorMsg':'','currentUrl':_0x57b910[_0x435b('‫9f','eefr')],'appId':0x232b,'identity':_0x57b910[_0x435b('‫a0','fyHK')],'deviceInfo':{'environment':_0x57b910[_0x435b('‮a1','518z')],'network':_0x435b('‮a2','v]*d'),'appVersion':_0x57b910[_0x435b('‫a3','nThu')],'deviceType':_0x57b910[_0x435b('‫a4','zxok')],'osVersion':_0x57b910[_0x435b('‮a5','z@O]')],'deviceModel':_0x57b910[_0x435b('‫a6','*16T')],'deviceBrand':_0x435b('‫a7','JUbW')}}]},'headers':{'Cookie':cookie,'origin':_0x564f1b,'referer':_0x46a7f6,'sec-ch-ua':_0x57b910['DGtyP'],'sec-ch-ua-mobile':'?1','sec-ch-ua-platform':'Android','sec-fetch-dest':_0x57b910['BYWZd'],'sec-fetch-mode':_0x435b('‫93','nThu'),'sec-fetch-site':_0x57b910[_0x435b('‫a8','q&G@')],'user-agent':_0x435b('‮a9','1B&^')}};};_0xodT='jsjiami.com.v6';
!function (n) { "use strict"; function t(n, t) { var r = (65535 & n) + (65535 & t); return (n >> 16) + (t >> 16) + (r >> 16) << 16 | 65535 & r } function r(n, t) { return n << t | n >>> 32 - t } function e(n, e, o, u, c, f) { return t(r(t(t(e, n), t(u, f)), c), o) } function o(n, t, r, o, u, c, f) { return e(t & r | ~t & o, n, t, u, c, f) } function u(n, t, r, o, u, c, f) { return e(t & o | r & ~o, n, t, u, c, f) } function c(n, t, r, o, u, c, f) { return e(t ^ r ^ o, n, t, u, c, f) } function f(n, t, r, o, u, c, f) { return e(r ^ (t | ~o), n, t, u, c, f) } function i(n, r) { n[r >> 5] |= 128 << r % 32, n[14 + (r + 64 >>> 9 << 4)] = r; var e, i, a, d, h, l = 1732584193, g = -271733879, v = -1732584194, m = 271733878; for (e = 0; e < n.length; e += 16)i = l, a = g, d = v, h = m, g = f(g = f(g = f(g = f(g = c(g = c(g = c(g = c(g = u(g = u(g = u(g = u(g = o(g = o(g = o(g = o(g, v = o(v, m = o(m, l = o(l, g, v, m, n[e], 7, -680876936), g, v, n[e + 1], 12, -389564586), l, g, n[e + 2], 17, 606105819), m, l, n[e + 3], 22, -1044525330), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 4], 7, -176418897), g, v, n[e + 5], 12, 1200080426), l, g, n[e + 6], 17, -1473231341), m, l, n[e + 7], 22, -45705983), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 8], 7, 1770035416), g, v, n[e + 9], 12, -1958414417), l, g, n[e + 10], 17, -42063), m, l, n[e + 11], 22, -1990404162), v = o(v, m = o(m, l = o(l, g, v, m, n[e + 12], 7, 1804603682), g, v, n[e + 13], 12, -40341101), l, g, n[e + 14], 17, -1502002290), m, l, n[e + 15], 22, 1236535329), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 1], 5, -165796510), g, v, n[e + 6], 9, -1069501632), l, g, n[e + 11], 14, 643717713), m, l, n[e], 20, -373897302), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 5], 5, -701558691), g, v, n[e + 10], 9, 38016083), l, g, n[e + 15], 14, -660478335), m, l, n[e + 4], 20, -405537848), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 9], 5, 568446438), g, v, n[e + 14], 9, -1019803690), l, g, n[e + 3], 14, -187363961), m, l, n[e + 8], 20, 1163531501), v = u(v, m = u(m, l = u(l, g, v, m, n[e + 13], 5, -1444681467), g, v, n[e + 2], 9, -51403784), l, g, n[e + 7], 14, 1735328473), m, l, n[e + 12], 20, -1926607734), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 5], 4, -378558), g, v, n[e + 8], 11, -2022574463), l, g, n[e + 11], 16, 1839030562), m, l, n[e + 14], 23, -35309556), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 1], 4, -1530992060), g, v, n[e + 4], 11, 1272893353), l, g, n[e + 7], 16, -155497632), m, l, n[e + 10], 23, -1094730640), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 13], 4, 681279174), g, v, n[e], 11, -358537222), l, g, n[e + 3], 16, -722521979), m, l, n[e + 6], 23, 76029189), v = c(v, m = c(m, l = c(l, g, v, m, n[e + 9], 4, -640364487), g, v, n[e + 12], 11, -421815835), l, g, n[e + 15], 16, 530742520), m, l, n[e + 2], 23, -995338651), v = f(v, m = f(m, l = f(l, g, v, m, n[e], 6, -198630844), g, v, n[e + 7], 10, 1126891415), l, g, n[e + 14], 15, -1416354905), m, l, n[e + 5], 21, -57434055), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 12], 6, 1700485571), g, v, n[e + 3], 10, -1894986606), l, g, n[e + 10], 15, -1051523), m, l, n[e + 1], 21, -2054922799), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 8], 6, 1873313359), g, v, n[e + 15], 10, -30611744), l, g, n[e + 6], 15, -1560198380), m, l, n[e + 13], 21, 1309151649), v = f(v, m = f(m, l = f(l, g, v, m, n[e + 4], 6, -145523070), g, v, n[e + 11], 10, -1120210379), l, g, n[e + 2], 15, 718787259), m, l, n[e + 9], 21, -343485551), l = t(l, i), g = t(g, a), v = t(v, d), m = t(m, h); return [l, g, v, m] } function a(n) { var t, r = "", e = 32 * n.length; for (t = 0; t < e; t += 8)r += String.fromCharCode(n[t >> 5] >>> t % 32 & 255); return r } function d(n) { var t, r = []; for (r[(n.length >> 2) - 1] = void 0, t = 0; t < r.length; t += 1)r[t] = 0; var e = 8 * n.length; for (t = 0; t < e; t += 8)r[t >> 5] |= (255 & n.charCodeAt(t / 8)) << t % 32; return r } function h(n) { return a(i(d(n), 8 * n.length)) } function l(n, t) { var r, e, o = d(n), u = [], c = []; for (u[15] = c[15] = void 0, o.length > 16 && (o = i(o, 8 * n.length)), r = 0; r < 16; r += 1)u[r] = 909522486 ^ o[r], c[r] = 1549556828 ^ o[r]; return e = i(u.concat(d(t)), 512 + 8 * t.length), a(i(c.concat(e), 640)) } function g(n) { var t, r, e = ""; for (r = 0; r < n.length; r += 1)t = n.charCodeAt(r), e += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t); return e } function v(n) { return unescape(encodeURIComponent(n)) } function m(n) { return h(v(n)) } function p(n) { return g(m(n)) } function s(n, t) { return l(v(n), v(t)) } function C(n, t) { return g(s(n, t)) } function A(n, t, r) { return t ? r ? s(t, n) : C(t, n) : r ? m(n) : p(n) } $.md5 = A }(this);
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
